INFO flwr 2023-12-19 14:26:30,160 | app.py:148 | Starting Flower server, config: ServerConfig(num_rounds=400, round_timeout=None)
server booted up. starting clients...
INFO flwr 2023-12-19 14:26:30,180 | app.py:168 | Flower ECE: gRPC server running (400 rounds), SSL is disabled
INFO flwr 2023-12-19 14:26:30,180 | server.py:86 | Initializing global parameters
INFO flwr 2023-12-19 14:26:30,180 | server.py:273 | Requesting initial parameters from one random client
INFO flwr 2023-12-19 14:26:50,633 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
INFO flwr 2023-12-19 14:26:50,642 | server.py:277 | Received initial parameters from one random client
INFO flwr 2023-12-19 14:26:50,642 | server.py:88 | Evaluating initial parameters
DEBUG flwr 2023-12-19 14:26:50,635 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,635 | connection.py:39 | ChannelConnectivity.CONNECTING
INFO flwr 2023-12-19 14:26:50,638 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,638 | connection.py:39 | ChannelConnectivity.READY
DEBUG flwr 2023-12-19 14:26:50,640 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,640 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,641 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,780 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,785 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,785 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,788 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,789 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,792 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,792 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,806 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,820 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,822 | connection.py:39 | ChannelConnectivity.IDLE
INFO flwr 2023-12-19 14:26:50,822 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,823 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,825 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,825 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,825 | connection.py:39 | ChannelConnectivity.READY
DEBUG flwr 2023-12-19 14:26:50,827 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,842 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,845 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,845 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,848 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,849 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,852 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,852 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,854 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:50,878 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
INFO flwr 2023-12-19 14:26:50,880 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-19 14:26:50,882 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,883 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,882 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-19 14:26:50,883 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-19 14:26:50,886 | connection.py:39 | ChannelConnectivity.READY
DEBUG flwr 2023-12-19 14:26:50,887 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-19 14:26:51,587 | server.py:91 | initial parameters (loss, other metrics): 2.3047499425172804, {'accuracy': 0.0908}
INFO flwr 2023-12-19 14:26:51,587 | server.py:101 | FL starting
DEBUG flwr 2023-12-19 14:28:14,429 | server.py:218 | fit_round 1: strategy sampled 10 clients (out of 10)
DEBUG flwr 2023-12-19 14:28:16,858 | server.py:232 | fit_round 1 received 10 results and 0 failures
server strategy: ADMM
number of clients: 10
round:      0
Server-side evaluation loss 2.3047499425172804 / accuracy 0.0908
Traceback (most recent call last):
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/RP_FL/run_server.py", line 151, in <module>
    fl.server.start_server(config=fl.server.ServerConfig(num_rounds=NUM_ROUNDS), strategy=strat)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/app.py", line 176, in start_server
    hist = _fl(
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/app.py", line 217, in _fl
    hist = server.fit(num_rounds=config.num_rounds, timeout=config.round_timeout)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/server.py", line 106, in fit
    res_fit = self.fit_round(server_round=current_round, timeout=timeout)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/server.py", line 244, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/RP_FL/src/ADMM_strategy.py", line 28, in aggregate_fit
    y_local = json.loads(res.metrics["Y"].decode("utf-8"))
KeyError: 'Y'
DEBUG flwr 2023-12-19 14:57:28,309 | connection.py:113 | gRPC channel closed
INFO flwr 2023-12-19 14:57:28,309 | app.py:185 | Disconnect and shut down
DEBUG flwr 2023-12-19 14:57:28,309 | connection.py:113 | gRPC channel closed
INFO flwr 2023-12-19 14:57:28,310 | app.py:185 | Disconnect and shut down
booting up client 3
DEBUG flwr 2023-12-19 14:57:28,309 | connection.py:113 | gRPC channel closed
INFO flwr 2023-12-19 14:57:28,310 | app.py:185 | Disconnect and shut down
booting up client 0
DEBUG flwr 2023-12-19 14:57:28,310 | connection.py:113 | gRPC channel closed
booting up client 5
INFO flwr 2023-12-19 14:57:28,310 | app.py:185 | Disconnect and shut down
booting up client 4
booting up client 9
DEBUG flwr 2023-12-19 14:57:28,310 | connection.py:113 | gRPC channel closed
INFO flwr 2023-12-19 14:57:28,310 | app.py:185 | Disconnect and shut down
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
slurmstepd: error: *** JOB 9202288 ON gpu11 CANCELLED AT 2023-12-19T15:56:30 DUE TO TIME LIMIT ***
slurmstepd: error: *** STEP 9202288.0 ON gpu11 CANCELLED AT 2023-12-19T15:56:30 DUE TO TIME LIMIT ***
slurmstepd: error: *** STEP 9202288.1 ON gpu11 CANCELLED AT 2023-12-19T15:56:30 DUE TO TIME LIMIT ***
