INFO flwr 2023-12-21 14:34:08,660 | app.py:148 | Starting Flower server, config: ServerConfig(num_rounds=400, round_timeout=None)
INFO flwr 2023-12-21 14:34:08,736 | app.py:168 | Flower ECE: gRPC server running (400 rounds), SSL is disabled
INFO flwr 2023-12-21 14:34:08,736 | server.py:86 | Initializing global parameters
INFO flwr 2023-12-21 14:34:08,736 | server.py:273 | Requesting initial parameters from one random client
server booted up. starting clients...
INFO flwr 2023-12-21 14:35:08,327 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
INFO flwr 2023-12-21 14:35:08,340 | server.py:277 | Received initial parameters from one random client
DEBUG flwr 2023-12-21 14:35:08,330 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:08,330 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:08,334 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:08,377 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-12-21 14:35:10,141 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:10,144 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:10,145 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:10,148 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:10,289 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:10,292 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:10,293 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:10,296 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:10,482 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:10,486 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:10,486 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:10,489 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:10,893 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:10,897 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:10,897 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:10,900 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:11,052 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:11,058 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:11,058 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:11,062 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:11,151 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:11,159 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:11,160 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:11,164 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:11,171 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:11,177 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:11,177 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:11,181 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:11,242 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
INFO flwr 2023-12-21 14:35:11,243 | grpc.py:50 | Opened insecure gRPC connection (no certificates were passed)
DEBUG flwr 2023-12-21 14:35:11,249 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:11,249 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:11,250 | connection.py:39 | ChannelConnectivity.IDLE
DEBUG flwr 2023-12-21 14:35:11,250 | connection.py:39 | ChannelConnectivity.CONNECTING
DEBUG flwr 2023-12-21 14:35:11,253 | connection.py:39 | ChannelConnectivity.READY
DEBUG flwr 2023-12-21 14:35:11,254 | connection.py:39 | ChannelConnectivity.READY
INFO flwr 2023-12-21 14:35:12,502 | server.py:91 | initial parameters (loss, other metrics): 2.30603107149601, {'accuracy': 0.0945}
INFO flwr 2023-12-21 14:35:12,503 | server.py:101 | FL starting
DEBUG flwr 2023-12-21 14:35:12,503 | server.py:218 | fit_round 1: strategy sampled 10 clients (out of 10)
DEBUG flwr 2023-12-21 14:35:41,699 | server.py:232 | fit_round 1 received 10 results and 0 failures
server strategy: ADMM
number of clients: 10
round:      0
Server-side evaluation loss 2.30603107149601 / accuracy 0.0945
Traceback (most recent call last):
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/RP_FL/run_server.py", line 151, in <module>
    fl.server.start_server(config=fl.server.ServerConfig(num_rounds=NUM_ROUNDS), strategy=strat)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/app.py", line 176, in start_server
    hist = _fl(
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/app.py", line 217, in _fl
    hist = server.fit(num_rounds=config.num_rounds, timeout=config.round_timeout)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/server.py", line 106, in fit
    res_fit = self.fit_round(server_round=current_round, timeout=timeout)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/envs/flower2en/lib/python3.9/site-packages/flwr/server/server.py", line 244, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/tudelft.net/staff-bulk/ewi/insy/DBL/swiergarst/RP_FL/src/ADMM_strategy.py", line 28, in aggregate_fit
    y_local = json.loads(res.metrics["Y"].decode("utf-8"))
KeyError: 'Y'
slurmstepd: error: *** JOB 9205384 ON awi21 CANCELLED AT 2023-12-21T16:03:37 DUE TO TIME LIMIT ***
slurmstepd: error: *** STEP 9205384.1 ON awi21 CANCELLED AT 2023-12-21T16:03:37 DUE TO TIME LIMIT ***
slurmstepd: error: *** STEP 9205384.0 ON awi21 CANCELLED AT 2023-12-21T16:03:37 DUE TO TIME LIMIT ***
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
